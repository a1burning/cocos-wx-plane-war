{"version":3,"sources":["assets/Script/EnemyControl.ts"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;GASG;;;;;;;;;;;;;;;;;;;;;AAEG,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA0C,gCAAY;IAAtD;QAAA,qEAoCC;QAnCG,OAAO;QACP,WAAK,GAAY,KAAK,CAAC;;IAkC3B,CAAC;IAhCG,4BAAK,GAAL,cAAU,CAAC;IAEX,6BAAM,GAAN,UAAQ,EAAE;QACN,KAAK;QACL,eAAe;QACf,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE;YACtB,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,EAAE,CAAC;SAC3B;QAED,aAAa;QACb,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE;YACnB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;IACL,CAAC;IAED,KAAK;IACL,0BAAG,GAAH;QAAA,iBAeC;QAdG,OAAO;QACP,uBAAuB;QACvB,OAAO;QACP,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,WAAW;QACX,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,WAAW,EAAE,UAAC,GAAG,EAAE,WAAW;YAC7D,gBAAgB;YAChB,kCAAkC;YAClC,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAG,WAAW,CAAC;QAChE,CAAC,CAAC,CAAA;QACF,WAAW;QACX,UAAU,CAAC;YACP,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAnCgB,YAAY;QADhC,OAAO;OACa,YAAY,CAoChC;IAAD,mBAAC;CApCD,AAoCC,CApCyC,EAAE,CAAC,SAAS,GAoCrD;kBApCoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["/**\n * 敌人控制脚本\n * 创建一个敌人的节点，添加碰撞组件，缩小碰撞范围\n * 然后添加脚本，挂载到敌人节点上\n * \n * 创建一个die的敌人死亡的方法，逻辑是子弹碰到就要销毁敌人节点\n * \n * die方法中，要动态加载爆炸图片，然后将爆炸图片设置到敌人节点上\n * 然后300ms后销毁敌人节点\n */\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class EnemyControl extends cc.Component {\n    // 是否死亡\n    isDie: boolean = false;\n\n    start () {}\n\n    update (dt) {\n        // 移动\n        // 如果没有死亡，就向下移动\n        if (this.isDie === false) {\n            this.node.y -= 300 * dt;\n        }\n\n        // 如果出了屏幕，就销毁\n        if(this.node.y < -850) {\n            this.node.destroy();\n        }\n    }\n\n    // 死亡\n    die() {\n        // 销毁自己\n        // this.node.destroy();\n        // 已经死亡\n        this.isDie = true;\n        // 动态加载爆炸图片\n        cc.loader.loadRes('enemy0_die', cc.SpriteFrame, (err, spriteFrame) => {\n            // 将爆炸图片设置到敌人节点上\n            // 得到敌人节点的Sprite组件，然后设置spriteFrame\n            this.node.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        })\n        // 300ms后销毁\n        setTimeout(() => {\n            this.node.destroy();\n        }, 300);\n    }\n}\n"]}